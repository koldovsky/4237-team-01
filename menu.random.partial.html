<section class="roulette-section">
  <div >
    <h2 class="roulette-section__title">Beer & Food whell of fortune</h2>
    <p class="roulette-section__description">
      Let fate decide your order! Spin to get a random beer and dish.
    </p>

    <div class="roulette-container">
      <div class="roulette-wheel">
        <div class="roulette-wheel__circle">
          <div
            class="roulette-wheel__item-orange"
            style="transform: rotate(22.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-dark"
            style="transform: rotate(67.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-orange"
            style="transform: rotate(112.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-dark"
            style="transform: rotate(157.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-orange"
            style="transform: rotate(202.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-dark"
            style="transform: rotate(247.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-orange"
            style="transform: rotate(292.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-dark"
            style="transform: rotate(337.5deg) skew(45deg)"
          ></div>

          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(0deg)"
          >
            <div class="roulette-wheel__item-text-dark-side">Blue<br />Style</div>
          </div>

          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(45deg)"
          >
            <div
              class="roulette-wheel__item-text-orange-side"
              style="transform: rotate(-45deg)"
            >
              Boutique<br />IPA
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(90deg)"
          >
            <div
              class="roulette-wheel__item-text-dark-side"
              style="transform: rotate(-90deg)"
            >
              Indian<br />Pale Ale
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(135deg)"
          >
            <div
              class="roulette-wheel__item-text-orange-side"
              style="transform: rotate(-135deg)"
            >
              Lager<br />Beer
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(180deg)"
          >
            <div
              class="roulette-wheel__item-text-dark-side"
              style="transform: rotate(-180deg)"
            >
              Belgian<br />Dream
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(225deg)"
          >
            <div
              class="roulette-wheel__item-text-orange-side"
              style="transform: rotate(-225deg)"
            >
              Bitter
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(270deg)"
          >
            <div
              class="roulette-wheel__item-text-dark-side"
              style="transform: rotate(-270deg)"
            >
              Stout
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(315deg)"
          >
            <div
              class="roulette-wheel__item-text-orange-side"
              style="transform: rotate(-315deg)"
            >
              Caramel<br />Ale
            </div>
          </div>
        </div>
        <button class="button_center" onclick="spinBeerWheel()">SPIN</button>

        <div class="roulette-wheel__pointer-dark"></div>
        <div class="roulette-wheel__pointer-orange"></div>
      </div>

      <div class="roulette-wheel">
        <div class="roulette-wheel__circle">
          <div
            class="roulette-wheel__item-orange"
            style="transform: rotate(22.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-dark"
            style="transform: rotate(67.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-orange"
            style="transform: rotate(112.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-dark"
            style="transform: rotate(157.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-orange"
            style="transform: rotate(202.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-dark"
            style="transform: rotate(247.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-orange"
            style="transform: rotate(292.5deg) skew(45deg)"
          ></div>
          <div
            class="roulette-wheel__item-dark"
            style="transform: rotate(337.5deg) skew(45deg)"
          ></div>

          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(0deg)"
          >
            <div class="roulette-wheel__item-text-dark-side">Pizza</div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(45deg)"
          >
            <div
              class="roulette-wheel__item-text-orange-side"
              style="transform: rotate(-45deg)"
            >
              Burger
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(90deg)"
          >
            <div
              class="roulette-wheel__item-text-dark-side"
              style="transform: rotate(-90deg)"
            >
              Salad
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(135deg)"
          >
            <div
              class="roulette-wheel__item-text-orange-side"
              style="transform: rotate(-135deg)"
            >
              Pasta
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(180deg)"
          >
            <div
              class="roulette-wheel__item-text-dark-side"
              style="transform: rotate(-180deg)"
            >
              Steak
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(225deg)"
          >
            <div
              class="roulette-wheel__item-text-orange-side"
              style="transform: rotate(-225deg)"
            >
              Sushi
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(270deg)"
          >
            <div
              class="roulette-wheel__item-text-dark-side"
              style="transform: rotate(-270deg)"
            >
              Taco
            </div>
          </div>
          <div
            class="roulette-wheel__item"
            style="transform: translate(-50%, -50%) rotate(315deg)"
          >
            <div
              class="roulette-wheel__item-text-orange-side"
              style="transform: rotate(-315deg)"
            >
              Fries
            </div>
          </div>
        </div>
        <button class="button_center" onclick="spinFoodWheel()">SPIN</button>
        <div class="roulette-wheel__pointer-dark"></div>
        <div class="roulette-wheel__pointer-orange"></div>
      </div>
    </div>

    <div id="resultDisplay" class="result-text"></div>
  </div>
</section>

<script>
  // збереження загального кута обертання
  let beerRotation = 0;
  let foodRotation = 0;

  function spinBeerWheel() {
    const wheel = document.querySelectorAll(".roulette-wheel__circle")[0];
    const items = wheel.querySelectorAll(".roulette-wheel__item");
    const randomDeg = Math.floor(Math.random() * 360) + 3600;
    beerRotation += randomDeg;

    wheel.style.transition = "transform 5s ease-out";
    wheel.style.transform = `rotate(${beerRotation}deg)`;

    items.forEach((item) => {
      const textElement = item.querySelector(
        ".roulette-wheel__item-text-dark-side, .roulette-wheel__item-text-orange-side"
      );

      const rotateMatch = item.style.transform.match(/rotate\(([^)]+)deg\)/);
      const initialRotation =
        rotateMatch && rotateMatch[1] ? parseFloat(rotateMatch[1]) : 0;

      textElement.style.transition = "transform 5s ease-out";
      textElement.style.transform = `rotate(${-(
        beerRotation + initialRotation
      )}deg)`;
    });
  }

  function spinFoodWheel() {
    const wheel = document.querySelectorAll(".roulette-wheel__circle")[1];
    const items = wheel.querySelectorAll(".roulette-wheel__item");
    const randomDeg = Math.floor(Math.random() * 360) + 3600;
    foodRotation += randomDeg;

    wheel.style.transition = "transform 5s ease-out";
    wheel.style.transform = `rotate(${foodRotation}deg)`;

    items.forEach((item) => {
      const textElement = item.querySelector(
          ".roulette-wheel__item-text-dark-side, .roulette-wheel__item-text-orange-side"
      );

      const rotateMatch = item.style.transform.match(/rotate\(([^)]+)deg\)/);
      const initialRotation =
        rotateMatch && rotateMatch[1] ? parseFloat(rotateMatch[1]) : 0;

      textElement.style.transition = "transform 5s ease-out";
      textElement.style.transform = `rotate(${-(
        foodRotation + initialRotation
      )}deg)`;
    });
  }
</script>
